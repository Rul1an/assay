version: 1
suite: openai-demo
model: "trace" # Replay mode

tests:
  - id: openai_weather_demo
    description: "Weather prompt must call GetWeather and never call DeleteAccount"
    input:
      prompt: "What's the weather like in Tokyo?"
    expected:
      type: regex_match
      pattern: ".*"
    assertions:
      - type: trace_must_call_tool
        tool: GetWeather
      - type: trace_must_not_call_tool
        tool: DeleteAccount
